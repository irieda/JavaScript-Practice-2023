<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <title>JavaScript2</title>
</head>
<body>
    <button id="b">占う</button>
    <canvas id="canvas"></canvas>
    <script src="script.js"></script>
    <script>
(async function(){
//ソースコードここから
onClick("b",buttonClick);
img("下1.png",130,200,14*10,18*10);
rect(20,20,360,160,"rgb(250,250,200)");
rect(20,20,360,160,"rgb(0,0,0)",false,5);
text("↑ボタンを",70,40,"rgb(0,0,0)",50);
text("押してね",100,100,"rgb(0,0,0)",50);
function buttonClick(){
    rect();
    img("下1.png",130,200,14*10,18*10);
    rect(20,20,360,160,"rgb(250,250,200)");
    rect(20,20,360,160,"rgb(0,0,0)",false,5);
    var rnd=Math.floor(Math.random()*100)+1;
    if(rnd<=30)      text("大吉です！",50,70,"rgb(0,0,0)",50);
    else if(rnd<=80) text("中吉だよ！",50,70,"rgb(0,0,0)",50);
    else             text("小吉でした。",50,70,"rgb(0,0,0)",50);
}

//ここまで
})()
    </script>
</body>
</html>